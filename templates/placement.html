<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Placement Quiz</title>
    <style>
        body {
    background: linear-gradient(135deg, #1a1a2e, #16213e);
    font-family: 'Poppins', sans-serif;
    color: white;
    text-align: center;
}

.container {
    width: 60%;
    margin: auto;
    padding: 20px;
    border-radius: 15px;
    background: rgba(239, 4, 4, 0.1);
    box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.4), -5px -5px 15px rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    transition: 0.3s;
}

.container:hover {
    transform: scale(1.02);
}

h1 {
    font-size: 2.5rem;
    text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.5);
}

button {
    background: linear-gradient(145deg, #ff4e50, #ff9a9e);
    border: none;
    padding: 12px 24px;
    font-size: 1.2rem;
    font-weight: bold;
    border-radius: 10px;
    color: white;
    cursor: pointer;
    box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.3), -3px -3px 8px rgba(255, 255, 255, 0.2);
    transition: 0.3s;
}

button:hover {
    transform: translateY(-3px);
    box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.5), -5px -5px 10px rgba(255, 255, 255, 0.2);
}

.quiz-card {
    background: #b08282;
    padding: 15px;
    margin: 10px;
    border-radius: 12px;
    box-shadow: inset 5px 5px 10px #111, inset -5px -5px 10px #333;
    transition: 0.3s;
}

.quiz-card:hover {
    transform: scale(1.03);
    box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.4), -10px -10px 20px rgba(255, 255, 255, 0.1);
}

        
        
.navbar {
      width: 100%;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      padding: 15px;
      text-align: center;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }
    .navbar a {
      color: white;
      text-decoration: none;
      padding: 14px 20px;
      display: inline-block;
      font-size: 18px;
      transition: 0.3s;
    }
    .navbar a:hover {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 8px;
    }
    footer {
      background: rgba(255, 255, 255, 0.2);
      color: white;
      text-align: center;
      padding: 15px;
      position: fixed;
      bottom: 0;
      width: 100%;
      backdrop-filter: blur(10px);
      box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.3);
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
    }
        select, button {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
            font-size: 16px;
        }
        button {
            background-color: #007BFF;
            color: white;
            border: none;
            cursor: pointer;
            transition: 0.3s;
        }
        button:hover {
            background-color: #0056b3;
        }
        .question-container {
            margin-top: 20px;
            text-align: left;
        }
        .question p {
            font-weight: bold;
            color: white;
        }
        label {
            display: block;
            padding: 8px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }
        input[type="radio"] {
            margin-right: 10px;
        }
        label:hover {
            background: #f1f1f1;
        }
        .score-ring {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            color: white;
            margin: 20px auto;
        }
        .pass {
            background-color: green;
        }
        .fail {
            background-color: red;
        }
        .solution {
            display: none;
            margin-top: 10px;
            font-weight: bold;
            color: #333;
        }
        .chatbot-body{
            color: white;
        }
        .chatbot-body p a{
            color: white;
        }
    </style>
</head>
<body>
    <div class="navbar">
        <a href="{{ url_for('home') }}">Home</a>
        <a href="{{ url_for('visualization') }}">View Visualization</a>
        <a href="{{ url_for('register') }}">Register</a>
        <a href="#">Contact</a>
      </div>
      
    <div class="container">
        <h1>Placement Quiz</h1>
        <label>Select Category:</label>
        <select id="category">
            <option value="C">C</option>
            <option value="C++">C++</option>
            <option value="Java">Java</option>
            <option value="Python">Python</option>
            <option value="Time and Distance">Time and Distance</option>
            <option value="Calendar">Calendar</option>
            <option value="Blood Relation">Blood Relation</option>
        </select>
        
        <button onclick="startQuiz()">Start Quiz</button>
        <div id="quiz-container" class="question-container"></div>
        <div id="timer">Time Left: 1:00</div>
<div id="quiz-container"></div>
<button id="submit-btn" onclick="submitQuiz()" style="display:none;">Submit</button>
<div id="score-display"></div>

      
    </div>

    <div id="chatbot-container" class="container">
        <h2>Chatbot</h2>
        <input type="text" id="user-input" placeholder="Ask me anything about the quiz..." />
        <button onclick="getChatbotResponse()">Ask</button>
        <div id="chatbot-response" style="margin-top: 10px;"></div>
    </div>
        <div class="chatbot-body" id="chatbot-body">
            <p>Welcome! Need help with aptitude tests or job openings? Ask me anything.</p>
            <p><a href="https://www.indiabix.com/" target="_blank">IndiaBix - Aptitude Prep</a></p>
            <p><a href="https://www.geeksforgeeks.org/" target="_blank">GeeksforGeeks (Aptitude Section)</a></p>
            <p><a href="https://www.freshersworld.com/" target="_blank">Freshersworld </a></p>
            <p><a href="https://www.examveda.com/" target="_blank">Examveda</a></p>
            <p><a href="https://parikshaguru.com/" target="_blank">aParikshaGuru</a></p>
        </div>
        
    </div>
    <div class="chatbot-toggle" onclick="toggleChatbot()">ðŸ’¬</div>
    <footer>
        &copy; 2025 Campus Recruitment Prediction | All Rights Reserved
      </footer>

    <script>
        
        let correctAnswers = {};
let timerInterval;

function shuffleArray(array) {
    return array.sort(() => Math.random() - 0.5);
}

function startQuiz() {
    let category = document.getElementById("category").value;
    let quizContainer = document.getElementById("quiz-container");
    quizContainer.innerHTML = "";
    correctAnswers = {};  

    
    let questions = {
                "C": [
                    { q: "What is a pointer?", correct: "A variable storing memory address", options: ["A pointer to an object", "A function argument", "A variable storing memory address", "An integer"] },
                    { q: "What is malloc() used for?", correct: "Memory allocation", options: ["File handling", "Memory allocation", "Stack operations", "Printing"] },
                    { q: "What will be the output of:\n\nint main() {\n    int m = 10;\n    int x = printf(\"%d\\n\", m);\n    printf(\"%d\\n\", x);\n    return 0;\n}", 
            correct: "10\n2", 
            options: ["10\n2", "10 10", "Compilation error", "Undefined output"] }, 

                        {q: "What will be the output of following program ? \n\nint main() { char a=0b1010; printf(\"%\\02X\",a); return 0;}", 
                        correct: "OA", 
                        options: ["OA", "a", "Oa", "10"]} ,
                
                    {q: "Will following string be terminated with NULL? char str[]={'H','e','l','l','o'};", 
                        correct: "No", 
                        options: ["Yes","No"]},

                    {q: "Will following string be terminated with NULL? ", 
                        correct: "No", 
                        options: ["Yes","No"]},  
                        
                    {q: "Who is the father of C language? ", 
                        correct: "Dennis Ritchie", 
                        options: ["Steve Jobs","James Gosling","Dennis Ritchie","Rasmus Lerdorf"]
                    }, 
                    {q: "Which of the following is not a valid C variable name? ", 
                        correct: "int $main;", 
                        options: ["int number;","float rate;","int variable_count;","int $main;"]
                    },    
                    {q: " Which is valid C expression?", 
                        correct: "int my_num = 100000;", 
                        options: ["int my_num = 100,000;","int my_num = 100000;","int my num = 1000;","int $my_num = 10000;"]
                    },
                    {q: "Which of the following cannot be a variable name in C?", 
                        correct: "int my_num = 100000;", 
                        options: ["volatile","true","friend","export"]
                    } 
                
        
        
                ],
                "C++": [
                    { q: "What is a constructor?", correct: "A special function called on object creation", options: ["A destructor", "A function pointer", "A special function called on object creation", "A virtual function"] },
                    { q: "Which of the following header file is used for file handling in C++?", correct: "fsteam", options: ["<file>","<filestream>","<stream>","<fstream>"] },
                    { q: "What is polymorphism?", correct: "Singleton class", options: ["Virtual class","Abstract class","Singleton class","Friend class"] },
                    { q: "Which of the following type of class allows only one object of it to be created?", correct: "Ability to take multiple forms", options: ["Encapsulation", "Function overloading", "Ability to take multiple forms", "None of the above"] },
                    { q: "Which of the following is not a type of constructor?", correct: "Friend constructor", options: ["Copy constructor","Friend constructor","Default constructor","Parameterized constructor"] },
                    { q: "Which of the following statements is correct?", correct: "Derived class pointer cannot point to base class.", options: ["Base class pointer cannot point to derived class.","Derived class pointer cannot point to base class.","Pointer to derived class cannot be created.","Pointer to base class cannot be created."] },
                    { q: "Which of the following is not the member of class?", correct: "Friend function", options: ["Static function","Friend function","Const function","Virtual function"] },
                    { q: "Which of the following concepts means determining at runtime what method to invoke?", correct: "Ability to take multiple forms", options: ["Encapsulation", "Function overloading", "Ability to take multiple forms", "None of the above"] },
                    { q: "A constructor that accepts __________ parameters is called the default constructor.", correct: "Ability to take multiple forms", options: ["Encapsulation", "Function overloading", "Ability to take multiple forms", "None of the above"] },
                    { q: "What happens when a class with parameterized constructors and having no default constructor is used in a program and we create an object that needs a zero-argument constructor?", correct: "Ability to take multiple forms", options: ["Encapsulation", "Function overloading", "Ability to take multiple forms", "None of the above"] }
                ],
                "Java": [
                    { q: "What is JVM?", correct: "Java Virtual Machine", options: ["Java Visual Manager", "Java Virtual Machine", "Just Valid Methods", "Jumbo Vector Memory"] },
                    { q: "What is garbage collection?", correct: "Automatic memory management", options: ["Manual memory deallocation", "Cleaning up log files", "Automatic memory management", "Disk defragmentation"] },
                    { q: "What is garbage collection?", correct: "Automatic memory management", options: ["Manual memory deallocation", "Cleaning up log files", "Automatic memory management", "Disk defragmentation"] },
                    { q: "What is garbage collection?", correct: "Automatic memory management", options: ["Manual memory deallocation", "Cleaning up log files", "Automatic memory management", "Disk defragmentation"] },
                    { q: "What is garbage collection?", correct: "Automatic memory management", options: ["Manual memory deallocation", "Cleaning up log files", "Automatic memory management", "Disk defragmentation"] },
                    { q: "What is garbage collection?", correct: "Automatic memory management", options: ["Manual memory deallocation", "Cleaning up log files", "Automatic memory management", "Disk defragmentation"] },
                    { q: "What is garbage collection?", correct: "Automatic memory management", options: ["Manual memory deallocation", "Cleaning up log files", "Automatic memory management", "Disk defragmentation"] },
                    { q: "What is garbage collection?", correct: "Automatic memory management", options: ["Manual memory deallocation", "Cleaning up log files", "Automatic memory management", "Disk defragmentation"] },
                    { q: "What is garbage collection?", correct: "Automatic memory management", options: ["Manual memory deallocation", "Cleaning up log files", "Automatic memory management", "Disk defragmentation"] },
                    { q: "What is garbage collection?", correct: "Automatic memory management", options: ["Manual memory deallocation", "Cleaning up log files", "Automatic memory management", "Disk defragmentation"] },
                    { q: "What is garbage collection?", correct: "Automatic memory management", options: ["Manual memory deallocation", "Cleaning up log files", "Automatic memory management", "Disk defragmentation"] }
                ],
                "Python": [
                    { q: "What is a lambda function?", correct: "Anonymous function", options: ["Named function", "Anonymous function", "Function pointer", "Recursive function"] },
                    { q: "What is list comprehension?", correct: "Concise way to create lists", options: ["Sorting algorithm", "Concise way to create lists", "Data structure", "None of the above"] }
                ],
                "Time and Distance": [
                    { q: "If a car travels 60 km in 1 hour, how far will it travel in 2 hours?", correct: "120 km", options: ["60 km", "90 km", "120 km", "150 km"] },
                    { q: "What is the formula for speed?", correct: "Distance/Time", options: ["Distance + Time", "Distance/Time", "Time/Distance", "Distance * Time"] },
                    { q: "A man has to travel 50 km in two hours. He could cover 20 km in one hour and then had to stop for 10 minutes for refuelling. By what factor should he increase his speed with reference to that during the first hour so as to be able to complete the journey as per schedule?", correct: "1.8 Total distance covered by man in 2 hours = 50km.in first hour, he covers = 20km. So, Distance left to be cover = 50 - 20 = 30km.Time left = 2 - 1 = 1 hour now, given that, he had to stop for 10 minutes for refuelling.So,Time left for travel = 1 hour - 10 min. = 60 - 10 = 50 minutes.Therefore,Distance to be covered now = 30km.Time left = 50 minutes = (50/60) = (5/6) hours.New speed = Distance/Time = 30/(5/6) = 30 * (6/5) = 36 km/h.Hence,Speed in first hour = 20km/h .speed in second time = 36km/h.Increased speed in factor = (36 /20) = 1.8 times. (Ans.)So, he has to increased his speed 1.8 times in order to complete the journey as per schedule time.", options: ["1.2","1.8","2.4","1.5"] },
                    { q: "What is the diameter in cm of a solid right circular cylinder whose height is 6 cm and the area of the curved surface is five times the combined area of the two flat surfaces?",correct:"2.4", options:["3","2.4","1.2","0.9"]}
                
                ],

                
            };

    questions[category].forEach((item, index) => {
        let shuffledOptions = shuffleArray([...item.options]); 
        correctAnswers[`q${index}`] = item.correct;

        let optionsHtml = shuffledOptions.map(option => `
            <label><input type="radio" name="q${index}" value="${option}"> ${option}</label>
        `).join('');

        quizContainer.innerHTML += `
            <div class="question">
                <p>Q${index + 1}: ${item.q}</p>
                ${optionsHtml}
                <button onclick="showSolution('${item.correct}', this)" style="display:none;">View Solution</button>
                <div class="solution" id="solution-${index}" style="display:none;">Correct Answer: ${item.correct}</div>
            </div>
        `;
    });

    document.getElementById("submit-btn").style.display = "block";
    startTimer(60); // Start a 60-second countdown
}

function startTimer(duration) {
    let timerDisplay = document.getElementById("timer");
    let timeLeft = duration;

    clearInterval(timerInterval); // Clear any existing timer
    timerInterval = setInterval(() => {
        let minutes = Math.floor(timeLeft / 60);
        let seconds = timeLeft % 60;
        timerDisplay.innerText = `Time Left: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;

        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            submitQuiz(); // Auto-submit the quiz when time runs out
        }
        timeLeft--;
    }, 1000);
}

function submitQuiz() {
    clearInterval(timerInterval); // Stop the timer

    let totalQuestions = Object.keys(correctAnswers).length;
    let correctCount = 0;

    for (let key in correctAnswers) {
        let selected = document.querySelector(`input[name="${key}"]:checked`);
        if (selected && selected.value === correctAnswers[key]) {
            correctCount++;
        }
    }

    let percentage = (correctCount / totalQuestions) * 100;
    let scoreDisplay = document.getElementById("score-display");
    let status = percentage >= 50 ? "pass" : "fail";
    let statusText = percentage >= 50 ? "Pass" : "Fail";

    scoreDisplay.innerHTML = `<div class="score-ring ${status}">${statusText}<br>${percentage.toFixed(2)}%</div>`;

    // Show the "View Solution" buttons after submitting
    document.querySelectorAll('.question button').forEach(button => button.style.display = 'inline-block');
}

function showSolution(correctAnswer, button) {
    const questionDiv = button.parentElement;
    const solutionDiv = questionDiv.querySelector('.solution');
    solutionDiv.style.display = 'block';
}

        function getChatbotResponse() {
    const userInput = document.getElementById("user-input").value.toLowerCase();
    const responseDiv = document.getElementById("chatbot-response");
    let response = "I'm sorry, I didn't understand that.";

    // Simple FAQ responses
    const faqs = {
        "what is a pointer?": "A pointer is a variable that stores the memory address of another variable. Instead of holding a direct value, it holds the location where the value is stored. Pointers are commonly used in languages like C, C++, and Java (for references).",
        "what is malloc() used for?": "malloc() (short for memory allocation) is a function in C and C++ (from the <stdlib.h> header) used to dynamically allocate memory at runtime. It allocates a specified number of bytes in the heap and returns a pointer to the first byte of the allocated memory block.",
        "what is a constructor?": "A constructor is a special function that is called when an object is created.",
        "what is java virtual machine?": "JVM stands for Java Virtual Machine, which is an abstract machine that enables a computer to run Java programs.",
        "what is string":"In C, a string is a sequence of characters terminated by a null character (\0). Unlike other languages like Python or Java, C does not have a built-in string data type. Instead, strings are represented as character arrays.strlen(s)	Returns the length of the string (excluding \0)	strlen() strcpy(dest, src)strcat(dest, src)strcmp(s1, s2)strchr(s, ch)strstr(s1, s2)",
        "what is variable":"A variable in C is a named storage location in memory that holds a value. The value stored in a variable can change during the execution of a program. A variable in C must be declared before it is used. int age; Rules for Naming Variables in C Must begin with a letter (A-Z or a-z) or an underscore (_) Can contain letters, digits (0-9), and underscores (_) Case-sensitive Cannot be a C keyword Should not have spaces",
        // Add more FAQs as needed
        "what is A man has to travel 50 km in two hours. He could cover 20 km in one hour and then had to stop for 10 minutes for refuelling. By what factor should he increase his speed with reference to that during the first hour so as to be able to complete the journey as per schedule?" :
        "Total distance covered by man in 2 hours = 50km.in first hour, he covers = 20km. So, Distance left to be cover = 50 - 20 = 30km.Time left = 2 - 1 = 1 hour now, given that, he had to stop for 10 minutes for refuelling.So,Time left for travel = 1 hour - 10 min. = 60 - 10 = 50 minutes.Therefore,Distance to be covered now = 30km.Time left = 50 minutes = (50/60) = (5/6) hours.New speed = Distance/Time = 30/(5/6) = 30 * (6/5) = 36 km/h.Hence,Speed in first hour = 20km/h .speed in second time = 36km/h.Increased speed in factor = (36 /20) = 1.8 times. (Ans.)So, he has to increased his speed 1.8 times in order to complete the journey as per schedule time.",
        "What is Polymorphism?":"Polymorphism is a fundamental concept in Object-Oriented Programming (OOP) that allows a function, method, or operator to behave differently based on the context. It enables a single interface to represent different types or behaviors.",
        "what is fstream":"The <fstream> header file is used for file handling in C++."
    };

    // Check if the user input matches any of the FAQs
    for (const question in faqs) {
        if (userInput.includes(question)) {
            response = faqs[question];
            break;
        }
    }

    // Display the response
    responseDiv.innerHTML = response;
}


    </script>
</body>
</html>
